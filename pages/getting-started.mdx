# Getting Started

Welcome to the **Hello FHEVM** website!  
This guide will help you navigate through the platform and quickly start building private, encrypted smart contracts on **FHEVM** — Zama’s Fully Homomorphic Encryption–enabled EVM.

Using the Project

::::steps

## Explore Examples:
Here’s a modular breakdown of a simple FHEVM dice game contract
    ```js
    # FHEVM Hardhat Template Project Structure
fhevm-hardhat-template/
├── artifacts/
├── cache/
├── contracts/
├── deploy/
├── deployments/
├── fhevmTemp/
├── node_modules/
├── tasks/
├── test/
├── types/
├── hardhat.config.ts
├── LICENSE
├── package.json
├── package-lock.json
├── README.md
└── tsconfig.json
```

Directory Overview

- **`artifacts/`** - Compiled contract artifacts (ABIs, bytecode)
- **`cache/`** - Hardhat compilation cache
- **`contracts/`** - Solidity smart contracts source code
- **`deploy/`** - Deployment scripts
- **`deployments/`** - Deployed contract addresses and ABIs per network
- **`fhevmTemp/`** - FHEVM-specific temporary files
- **`node_modules/`** - Dependencies installed by npm
- **`tasks/`** - Custom Hardhat tasks
- **`test/`** - Contract tests (likely TypeScript/JavaScript)
- **`types/`** - TypeScript type definitions
- **`hardhat.config.ts`** - Hardhat configuration file
- **`LICENSE`** - Project license
- **`package.json`** - Project configuration and dependencies
- **`package-lock.json`** - Locked dependency versions
- **`README.md`** - Project documentation
- **`tsconfig.json`** - TypeScript configuration





Each snippet represents a key component, showing how traditional Solidity evolves to handle encrypted data with `euint32` and `ebool` types.
Imports FHE library for encrypted types (euint32 for 32-bit integers, ebool for booleans). Inherits SepoliaConfig for testnet compatibility.
``` solidity
// [!include ~/snippets/example1.sol]
```


State Variables
 Use encrypted types (euint32, ebool) for private storage.
 In traditional Solidity, these would be uint32 and bool; here, encryption ensures only authorized users can decrypt off-chain.
``` solidity
// [!include ~/snippets/bool.sol]
```

Constructor

This is usually same as the solidity code. Constructor Sets the deployer as owner for admin functions like withdrawals.
``` solidity
// [!include ~/snippets/constructor.sol]
```

View Functions (e.g., getLastDiceRoll)
Returns encrypted values; decryption happens off-chain via fhevmjs.
This is very similar to Getter function on solidity. but here returns opaque encrypted data for privacy.
``` solidity
// [!include ~/snippets/getLastDiceRoll.sol]
```

Derive Function: LogicImplementation

FHE.fromExternal verifies and internalizes encrypted inputs; FHE.eq compares encrypted values.
Players encrypt inputs off-chain (using fhevmjs), submit proofs; contract computes winner status homomorphically without revealing data.
``` solidity
// [!include ~/snippets/getLastDiceRoll.sol]
```



 Internal Computation: _generateDiceRoll
Homomorphic operations (FHE.add, FHE.and) on encrypted data.
 Generates a pseudo-random roll (1-6) entirely encrypted, unlike traditional RNG which exposes values.
 This is with respect to a Dice Guess Puzzle game
 ``` solidity
// [!include ~/snippets/intcomp.sol]
```

Withdraw and Receive

Similar to Solidity, perform transfer and withdrawals of assets from contracts,
 ``` solidity
// [!include ~/snippets/wr.sol]
```


Full Snippet of the smart Contract
 ``` solidity
// [!include ~/snippets/dicegame.sol]
```

This helps you learn FHEVM step by step and see how private computations work on-chain.



---

## Encryption & Decryption 

Can we batch decrypt multiple transactions at once instead of individually?
Yes,

Encryption/Decryption Single/Multi value

Example
Encrpyt single/multi values

Decrypt single/multi values

However the game was design with user decrypt only not public
and same goes for decrpyt with single value decrypt

You can implement the various functions / features, using this 

https://docs.zama.ai/protocol/examples/basic/decryption/fhe-user-decrypt-multiple-values

https://docs.zama.ai/protocol/examples/basic/decryption/fhe-public-decrypt-multiple-values

(FYI This tutorial is based on User multi value encrypt + User single decrypt value)

##  Smart Contract Development: FHEVM Confidential Dice Guessing Game

Follow these corrected steps to build your own confidential dice guessing game on Hardhat using FHEVM.

Clone the Official FHEVM Hardhat Repository

Start by cloning the official FHEVM hardhat repo by Zama:

```bash
git clone https://github.com/zama-ai/fhevm-hardhat-template.git
```

Navigate to the Cloned Repository

```bash
cd fhevm-hardhat-template
```

**Alternative if you want to specify a custom location:**
```bash
# Navigate to your preferred directory first
cd /your-preferred/specified-location

# Then clone the repository
git clone https://github.com/zama-ai/fhevm-hardhat-template.git

# Navigate into the cloned repository
cd fhevm-hardhat-template
```

Install Hardhat and Dependencies

```bash
npm install
```

 Configure Networks and RPC Endpoints

Check the `hardhat.config.js` or `hardhat.config.ts` file and configure your networks:

```javascript
// Example network configuration
import "@fhevm/hardhat-plugin";
import "@nomicfoundation/hardhat-chai-matchers";
import "@nomicfoundation/hardhat-ethers";
import "@nomicfoundation/hardhat-verify";
import "@typechain/hardhat";
import "hardhat-deploy";
import "hardhat-gas-reporter";
import type { HardhatUserConfig } from "hardhat/config";
import { vars } from "hardhat/config";
import "solidity-coverage";

import "./tasks/accounts";
import "./tasks/FHEDiceGame";

// Run 'npx hardhat vars setup' to see the list of variables that need to be set

const MNEMONIC: string = vars.get(
  "MNEMONIC",
  "zzzzzzzzzzz",
);
const INFURA_API_KEY: string = vars.get("INFURA_API_KEY", "3376a33c419a4d249d680fa54ff8b6bf");

const config: HardhatUserConfig = {
  defaultNetwork: "hardhat",
  namedAccounts: {
    deployer: 0,
  },
  etherscan: {
    apiKey: {
      sepolia: process.env.ETHERSCAN_API_KEY || "U42S46F9HAIY1NV5U2P186USKB6N89KEQP",
    },
    customChains: [
      {
        network: "sepolia",
        chainId: 11155111,
        urls: {
          apiURL: "https://api-sepolia.etherscan.io/api",
          browserURL: "https://sepolia.etherscan.io",
        },
      },
    ],
  },

  gasReporter: {
    currency: "USD",
    enabled: process.env.REPORT_GAS ? true : false,
    excludeContracts: [],
  },
  networks: {
    hardhat: {
      accounts: {
        mnemonic: MNEMONIC,
      },
      chainId: 31337,
    },
    anvil: {
      accounts: {
        mnemonic: MNEMONIC,
        path: "m/44'/60'/0'/0/",
        count: 10,
      },
      chainId: 31337,
      url: "http://localhost:8545",
    },
    sepolia: {
      accounts: {
        mnemonic: MNEMONIC,
        path: "m/44'/60'/0'/0/",
        count: 10,
      },
      chainId: 11155111,
      url: `https://sepolia.infura.io/v3/${INFURA_API_KEY}`,
    },
  },
  paths: {
    artifacts: "./artifacts",
    cache: "./cache",
    sources: "./contracts",
    tests: "./test",
  },
  solidity: {
    version: "0.8.27",
    settings: {
      metadata: {
        // Not including the metadata hash
        // https://github.com/paulrberg/hardhat-template/issues/31
        bytecodeHash: "none",
      },
      // Disable the optimizer when debugging
      // https://hardhat.org/hardhat-network/#solidity-optimizer-support
      optimizer: {
        enabled: true,
        runs: 800,
      },
      evmVersion: "cancun",
    },
  },
  typechain: {
    outDir: "types",
    target: "ethers-v6",
  },
};

export default config;

```


## Next Steps:

After completing these setup steps, you can now:
- Create your confidential dice guessing game smart contract
- Use FHEVM's encrypted computation capabilities
- Deploy and test on the Sepolia Testnet

Make sure to set up your environment variables (like `PRIVATE_KEY` `MNEMONIC`) in a `.env` file before deploying.

---

import { TutorialQuiz } from "../components";

<TutorialQuiz 
  title=" Getting Started with FHEVM"
  description="Test your understanding of the FHEVM project structure and development workflow!"
  questions={[
    {
      id: "project-structure",
      question: "What is the purpose of the 'contracts/' directory in an FHEVM project?",
      options: [
        "To store compiled contract artifacts",
        "To store Solidity smart contracts source code",
        "To store deployment scripts",
        "To store test files"
      ],
      correctAnswer: 1,
      explanation: "The 'contracts/' directory contains the Solidity smart contracts source code. This is where you write your FHEVM contracts with encrypted types like euint32 and ebool.",
      topic: "Project Structure"
    },
    {
      id: "fhevm-types",
      question: "What are euint32 and ebool in FHEVM?",
      options: [
        "Regular Solidity types with extra features",
        "Encrypted versions of uint32 and bool",
        "Special types for Ethereum addresses",
        "Types for gas optimization"
      ],
      correctAnswer: 1,
      explanation: "euint32 and ebool are encrypted versions of Solidity's uint32 and bool types. The 'e' prefix indicates they are encrypted, allowing computations on private data without revealing the actual values.",
      topic: "FHEVM Types"
    },
    {
      id: "view-functions",
      question: "What do view functions return in FHEVM contracts?",
      options: [
        "Decrypted values that anyone can read",
        "Encrypted values that require off-chain decryption",
        "Plain text values for public access",
        "Compressed data for efficiency"
      ],
      correctAnswer: 1,
      explanation: "View functions in FHEVM return encrypted values (opaque data) that require off-chain decryption using the FHEVM SDK. This ensures privacy while allowing authorized users to decrypt their own data.",
      topic: "View Functions"
    },
    {
      id: "homomorphic-operations",
      question: "What makes FHE operations special in smart contracts?",
      options: [
        "They are faster than regular operations",
        "They work on encrypted data without decryption",
        "They use less gas than regular operations",
        "They are easier to implement"
      ],
      correctAnswer: 1,
      explanation: "FHE (Fully Homomorphic Encryption) operations can perform computations on encrypted data without ever decrypting the values. This enables private smart contracts where data remains confidential throughout the entire computation process.",
      topic: "FHE Operations"
    },
    {
      id: "network-configuration",
      question: "Why is Sepolia testnet commonly used for FHEVM development?",
      options: [
        "It has the lowest gas fees",
        "It supports FHEVM operations and is a public testnet",
        "It's the fastest network",
        "It doesn't require any configuration"
      ],
      correctAnswer: 1,
      explanation: "Sepolia testnet supports FHEVM operations and is a public testnet, making it ideal for development and testing. It allows developers to test FHEVM contracts without using mainnet resources.",
      topic: "Network Configuration"
    },
    {
      id: "environment-setup",
      question: "What environment variables are typically needed for FHEVM development?",
      options: [
        "Only PRIVATE_KEY",
        "MNEMONIC and INFURA_API_KEY",
        "Only INFURA_API_KEY",
        "No environment variables needed"
      ],
      correctAnswer: 1,
      explanation: "FHEVM development typically requires MNEMONIC (for account management) and INFURA_API_KEY (for RPC access to networks like Sepolia). These enable deployment and interaction with FHEVM contracts.",
      topic: "Environment Setup"
    }
  ]}
/>